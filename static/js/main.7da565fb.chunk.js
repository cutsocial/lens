(this.webpackJsonplens=this.webpackJsonplens||[]).push([[0],{130:function(e,t,n){},135:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(16),i=n.n(o),s=n(103),l=n(55),r=n(136);const c={en:{title:"English",direction:"ltr"},fa:{title:"\u0641\u0627\u0631\u0633\u06cc",direction:"rtl"},ar:{title:"\u0639\u0631\u0628\u06cc",direction:"rtl"}};s.a.use(r.a).use(l.e).init({lng:"en",fallbackLng:"en",debug:!1,keySeparator:!1,backend:{loadPath:"/locales/{{lng}}.json"}});var d=s.a,u=n(45),m=n.n(u),p=n(53),b=n(21),h=n(360),j=n(361),g=n(362),x=n(351),f=n(327),O=n(373),y=n(331),v=n(370),S=n(146),k=n(375);const w=Object(S.a)({palette:{type:"dark",primary:{main:"#039be5"},secondary:{main:"#f06292"}},typography:{fontFamily:["Vazir","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),A=Object(S.a)({direction:"rtl",palette:{type:"dark",primary:{main:"#039be5"},secondary:{main:"#f06292"}},typography:{fontFamily:["Vazir","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),N=Object(k.a)(w),C=Object(k.a)(A);var I=n(330),T=n(374),R=n(1);function D(e){let{finished:t,redirectTo:n,onNext:a}=e;const{t:o}=Object(T.a)();return Object(R.jsx)(f.a,{container:!0,direction:"row",justifyContent:"flex-end",children:Object(R.jsxs)(f.a,{item:!0,children:[!t&&Object(R.jsx)(I.a,{variant:"contained",color:"primary",onClick:a,children:o("next")}),t&&n&&Object(R.jsx)(I.a,{variant:"contained",color:"primary",href:n,children:o("finish_and_redirect")})]})})}var M=n(364),E=n(368),F=n(14),P=n.n(F);var _=[{code:"AD",label:"Andorra",phone:"376"},{code:"AE",label:"United Arab Emirates",phone:"971"},{code:"AF",label:"Afghanistan",phone:"93"},{code:"AG",label:"Antigua and Barbuda",phone:"1-268"},{code:"AI",label:"Anguilla",phone:"1-264"},{code:"AL",label:"Albania",phone:"355"},{code:"AM",label:"Armenia",phone:"374"},{code:"AO",label:"Angola",phone:"244"},{code:"AQ",label:"Antarctica",phone:"672"},{code:"AR",label:"Argentina",phone:"54"},{code:"AS",label:"American Samoa",phone:"1-684"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"AW",label:"Aruba",phone:"297"},{code:"AX",label:"Alland Islands",phone:"358"},{code:"AZ",label:"Azerbaijan",phone:"994"},{code:"BA",label:"Bosnia and Herzegovina",phone:"387"},{code:"BB",label:"Barbados",phone:"1-246"},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BF",label:"Burkina Faso",phone:"226"},{code:"BG",label:"Bulgaria",phone:"359"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BI",label:"Burundi",phone:"257"},{code:"BJ",label:"Benin",phone:"229"},{code:"BL",label:"Saint Barthelemy",phone:"590"},{code:"BM",label:"Bermuda",phone:"1-441"},{code:"BN",label:"Brunei Darussalam",phone:"673"},{code:"BO",label:"Bolivia",phone:"591"},{code:"BR",label:"Brazil",phone:"55"},{code:"BS",label:"Bahamas",phone:"1-242"},{code:"BT",label:"Bhutan",phone:"975"},{code:"BV",label:"Bouvet Island",phone:"47"},{code:"BW",label:"Botswana",phone:"267"},{code:"BY",label:"Belarus",phone:"375"},{code:"BZ",label:"Belize",phone:"501"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{code:"CD",label:"Congo, Democratic Republic of the",phone:"243"},{code:"CF",label:"Central African Republic",phone:"236"},{code:"CG",label:"Congo, Republic of the",phone:"242"},{code:"CH",label:"Switzerland",phone:"41"},{code:"CI",label:"Cote d'Ivoire",phone:"225"},{code:"CK",label:"Cook Islands",phone:"682"},{code:"CL",label:"Chile",phone:"56"},{code:"CM",label:"Cameroon",phone:"237"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CR",label:"Costa Rica",phone:"506"},{code:"CU",label:"Cuba",phone:"53"},{code:"CV",label:"Cape Verde",phone:"238"},{code:"CW",label:"Curacao",phone:"599"},{code:"CX",label:"Christmas Island",phone:"61"},{code:"CY",label:"Cyprus",phone:"357"},{code:"CZ",label:"Czech Republic",phone:"420"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DJ",label:"Djibouti",phone:"253"},{code:"DK",label:"Denmark",phone:"45"},{code:"DM",label:"Dominica",phone:"1-767"},{code:"DO",label:"Dominican Republic",phone:"1-809"},{code:"DZ",label:"Algeria",phone:"213"},{code:"EC",label:"Ecuador",phone:"593"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"EH",label:"Western Sahara",phone:"212"},{code:"ER",label:"Eritrea",phone:"291"},{code:"ES",label:"Spain",phone:"34"},{code:"ET",label:"Ethiopia",phone:"251"},{code:"FI",label:"Finland",phone:"358"},{code:"FJ",label:"Fiji",phone:"679"},{code:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{code:"FM",label:"Micronesia, Federated States of",phone:"691"},{code:"FO",label:"Faroe Islands",phone:"298"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GA",label:"Gabon",phone:"241"},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GD",label:"Grenada",phone:"1-473"},{code:"GE",label:"Georgia",phone:"995"},{code:"GF",label:"French Guiana",phone:"594"},{code:"GG",label:"Guernsey",phone:"44"},{code:"GH",label:"Ghana",phone:"233"},{code:"GI",label:"Gibraltar",phone:"350"},{code:"GL",label:"Greenland",phone:"299"},{code:"GM",label:"Gambia",phone:"220"},{code:"GN",label:"Guinea",phone:"224"},{code:"GP",label:"Guadeloupe",phone:"590"},{code:"GQ",label:"Equatorial Guinea",phone:"240"},{code:"GR",label:"Greece",phone:"30"},{code:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{code:"GT",label:"Guatemala",phone:"502"},{code:"GU",label:"Guam",phone:"1-671"},{code:"GW",label:"Guinea-Bissau",phone:"245"},{code:"GY",label:"Guyana",phone:"592"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{code:"HN",label:"Honduras",phone:"504"},{code:"HR",label:"Croatia",phone:"385"},{code:"HT",label:"Haiti",phone:"509"},{code:"HU",label:"Hungary",phone:"36"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IL",label:"Israel",phone:"972"},{code:"IM",label:"Isle of Man",phone:"44"},{code:"IN",label:"India",phone:"91"},{code:"IO",label:"British Indian Ocean Territory",phone:"246"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran, Islamic Republic of",phone:"98"},{code:"IS",label:"Iceland",phone:"354"},{code:"IT",label:"Italy",phone:"39"},{code:"JE",label:"Jersey",phone:"44"},{code:"JM",label:"Jamaica",phone:"1-876"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KE",label:"Kenya",phone:"254"},{code:"KG",label:"Kyrgyzstan",phone:"996"},{code:"KH",label:"Cambodia",phone:"855"},{code:"KI",label:"Kiribati",phone:"686"},{code:"KM",label:"Comoros",phone:"269"},{code:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{code:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{code:"KR",label:"Korea, Republic of",phone:"82"},{code:"KW",label:"Kuwait",phone:"965"},{code:"KY",label:"Cayman Islands",phone:"1-345"},{code:"KZ",label:"Kazakhstan",phone:"7"},{code:"LA",label:"Lao People's Democratic Republic",phone:"856"},{code:"LB",label:"Lebanon",phone:"961"},{code:"LC",label:"Saint Lucia",phone:"1-758"},{code:"LI",label:"Liechtenstein",phone:"423"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"LR",label:"Liberia",phone:"231"},{code:"LS",label:"Lesotho",phone:"266"},{code:"LT",label:"Lithuania",phone:"370"},{code:"LU",label:"Luxembourg",phone:"352"},{code:"LV",label:"Latvia",phone:"371"},{code:"LY",label:"Libya",phone:"218"},{code:"MA",label:"Morocco",phone:"212"},{code:"MC",label:"Monaco",phone:"377"},{code:"MD",label:"Moldova, Republic of",phone:"373"},{code:"ME",label:"Montenegro",phone:"382"},{code:"MF",label:"Saint Martin (French part)",phone:"590"},{code:"MG",label:"Madagascar",phone:"261"},{code:"MH",label:"Marshall Islands",phone:"692"},{code:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{code:"ML",label:"Mali",phone:"223"},{code:"MM",label:"Myanmar",phone:"95"},{code:"MN",label:"Mongolia",phone:"976"},{code:"MO",label:"Macao",phone:"853"},{code:"MP",label:"Northern Mariana Islands",phone:"1-670"},{code:"MQ",label:"Martinique",phone:"596"},{code:"MR",label:"Mauritania",phone:"222"},{code:"MS",label:"Montserrat",phone:"1-664"},{code:"MT",label:"Malta",phone:"356"},{code:"MU",label:"Mauritius",phone:"230"},{code:"MV",label:"Maldives",phone:"960"},{code:"MW",label:"Malawi",phone:"265"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"MZ",label:"Mozambique",phone:"258"},{code:"NA",label:"Namibia",phone:"264"},{code:"NC",label:"New Caledonia",phone:"687"},{code:"NE",label:"Niger",phone:"227"},{code:"NF",label:"Norfolk Island",phone:"672"},{code:"NG",label:"Nigeria",phone:"234"},{code:"NI",label:"Nicaragua",phone:"505"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NR",label:"Nauru",phone:"674"},{code:"NU",label:"Niue",phone:"683"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PA",label:"Panama",phone:"507"},{code:"PE",label:"Peru",phone:"51"},{code:"PF",label:"French Polynesia",phone:"689"},{code:"PG",label:"Papua New Guinea",phone:"675"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PL",label:"Poland",phone:"48"},{code:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{code:"PN",label:"Pitcairn",phone:"870"},{code:"PR",label:"Puerto Rico",phone:"1"},{code:"PS",label:"Palestine, State of",phone:"970"},{code:"PT",label:"Portugal",phone:"351"},{code:"PW",label:"Palau",phone:"680"},{code:"PY",label:"Paraguay",phone:"595"},{code:"QA",label:"Qatar",phone:"974"},{code:"RE",label:"Reunion",phone:"262"},{code:"RO",label:"Romania",phone:"40"},{code:"RS",label:"Serbia",phone:"381"},{code:"RU",label:"Russian Federation",phone:"7"},{code:"RW",label:"Rwanda",phone:"250"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SB",label:"Solomon Islands",phone:"677"},{code:"SC",label:"Seychelles",phone:"248"},{code:"SD",label:"Sudan",phone:"249"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"SH",label:"Saint Helena",phone:"290"},{code:"SI",label:"Slovenia",phone:"386"},{code:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{code:"SK",label:"Slovakia",phone:"421"},{code:"SL",label:"Sierra Leone",phone:"232"},{code:"SM",label:"San Marino",phone:"378"},{code:"SN",label:"Senegal",phone:"221"},{code:"SO",label:"Somalia",phone:"252"},{code:"SR",label:"Suriname",phone:"597"},{code:"SS",label:"South Sudan",phone:"211"},{code:"ST",label:"Sao Tome and Principe",phone:"239"},{code:"SV",label:"El Salvador",phone:"503"},{code:"SX",label:"Sint Maarten (Dutch part)",phone:"1-721"},{code:"SY",label:"Syrian Arab Republic",phone:"963"},{code:"SZ",label:"Swaziland",phone:"268"},{code:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{code:"TD",label:"Chad",phone:"235"},{code:"TF",label:"French Southern Territories",phone:"262"},{code:"TG",label:"Togo",phone:"228"},{code:"TH",label:"Thailand",phone:"66"},{code:"TJ",label:"Tajikistan",phone:"992"},{code:"TK",label:"Tokelau",phone:"690"},{code:"TL",label:"Timor-Leste",phone:"670"},{code:"TM",label:"Turkmenistan",phone:"993"},{code:"TN",label:"Tunisia",phone:"216"},{code:"TO",label:"Tonga",phone:"676"},{code:"TR",label:"Turkey",phone:"90"},{code:"TT",label:"Trinidad and Tobago",phone:"1-868"},{code:"TV",label:"Tuvalu",phone:"688"},{code:"TW",label:"Taiwan, Province of China",phone:"886"},{code:"TZ",label:"United Republic of Tanzania",phone:"255"},{code:"UA",label:"Ukraine",phone:"380"},{code:"UG",label:"Uganda",phone:"256"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"UY",label:"Uruguay",phone:"598"},{code:"UZ",label:"Uzbekistan",phone:"998"},{code:"VA",label:"Holy See (Vatican City State)",phone:"379"},{code:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{code:"VE",label:"Venezuela",phone:"58"},{code:"VG",label:"British Virgin Islands",phone:"1-284"},{code:"VI",label:"US Virgin Islands",phone:"1-340"},{code:"VN",label:"Vietnam",phone:"84"},{code:"VU",label:"Vanuatu",phone:"678"},{code:"WF",label:"Wallis and Futuna",phone:"681"},{code:"WS",label:"Samoa",phone:"685"},{code:"XK",label:"Kosovo",phone:"383"},{code:"YE",label:"Yemen",phone:"967"},{code:"YT",label:"Mayotte",phone:"262"},{code:"ZA",label:"South Africa",phone:"27"},{code:"ZM",label:"Zambia",phone:"260"},{code:"ZW",label:"Zimbabwe",phone:"263"}];n(130);function L(e){let{content:t,onStore:n,onValidate:o}=e;const{t:i}=Object(T.a)(),s=Object(a.useRef)(null),[l,r]=Object(a.useState)({value:null});Object(a.useEffect)((()=>()=>{var e;n({view:t,response:(null===(e=s.current)||void 0===e?void 0:e.code)||s.current})}),[]);const c=(e,t)=>{s.current=t,r({...l,value:t});const n=(null===t||void 0===t?void 0:t.code)||s.current;console.log(n),o(void 0!==n&&n.length>0)},d=()=>Object(R.jsx)(E.a,{id:"country-select",options:_,autoHighlight:!0,onChange:(e,t)=>c(0,t),value:l.value,getOptionLabel:e=>e.label,noOptionsText:i("text.no_options"),renderOption:e=>{return Object(R.jsxs)(a.Fragment,{children:[Object(R.jsx)("span",{children:(t=e.code,"undefined"!==typeof String.fromCodePoint?t.toUpperCase().replace(/./g,(e=>String.fromCodePoint(e.charCodeAt(0)+127397))):t)})," ",e.label]});var t},renderInput:e=>Object(R.jsx)(M.a,{...e,label:i("text.choose_a_country"),variant:"outlined",inputProps:{...e.inputProps,autoComplete:"new-password"},className:"country-select"})});return Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i(t.text),escapeHtml:!1,className:"markdown-text"})}),!t.instruction&&Object(R.jsxs)(f.a,{item:!0,children:["countries"===t.autoComplete&&Object(R.jsx)(d,{}),!t.autoComplete&&Object(R.jsx)(M.a,{label:i(t.placeholder),variant:"filled",fullWidth:!0,onChange:e=>c(0,e.target.value)})]})]})}function z(e){var t;let{content:n,onStore:o,onValidate:i}=e;const{t:s}=Object(T.a)();let l=new URLSearchParams(Object(b.f)().search);const r=Object(a.useRef)(null),[c,d]=Object(a.useState)({value:null});Object(a.useEffect)((()=>()=>{var e;o({view:n,response:(null===(e=r.current)||void 0===e?void 0:e.code)||r.current})}),[r]);var u,m=null;!0===(null===n||void 0===n?void 0:n.getUrlContent)?null!==(null===n||void 0===n?void 0:n.paramNameAsContent)&&(null===(u=n.paramNameAsContent)||void 0===u?void 0:u.length)>0&&(console.log(null===n||void 0===n?void 0:n.paramNameAsContent),m=l.get(n.paramNameAsContent),console.log(m)):null!==(null===n||void 0===n?void 0:n.content)&&(null===n||void 0===n||null===(t=n.content)||void 0===t?void 0:t.length)>0&&(m=n.content);if(!(null==c.value&&null!==m&&m.length>0))return Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:s(n.text),escapeHtml:!1,className:"markdown-text"})}),!n.instruction&&Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(M.a,{label:s(n.placeholder),defaultValue:null!=m?m:void 0,variant:"filled",fullWidth:!0,onChange:e=>((e,t)=>{r.current=t,d({...c,value:t});const n=(null===t||void 0===t?void 0:t.code)||r.current;console.log(n),i(void 0!==n&&n.length>0)})(0,e.target.value)})})]});d({value:m})}var G=n(333),W=n(376),B=n(334),H=n(369),K=n(377),V=n(335);function U(e){const{children:t,open:n,value:a}=e;return Object(R.jsx)(G.a,{open:n,enterTouchDelay:0,placement:"top",title:a,arrow:!0,children:t})}function J(e){let{content:t,onStore:n,onValidate:o}=e;const{t:i}=Object(T.a)(),{questions:s,choices:l,direction:r,text:c,slider:d,showMidMark:u}=t,m=Object(a.useRef)({values:Array.from({length:s.length})});Object(a.useEffect)((()=>(t.requiredQuestions.length>0&&o(!1),window.scrollTo({top:0,behavior:"smooth"}),()=>{n({view:t,response:m.current})})),[]);const p=(e,t)=>Object(R.jsxs)(f.a,{item:!0,container:!0,xs:!0,className:"matrix-slider",children:[Object(R.jsx)(W.a,{defaultValue:m.current.values[t],value:m.current.values[t],valueLabelFormat:t=>i(e[t-1]),"aria-labelledby":"question"+t,ValueLabelComponent:U,onChangeCommitted:(e,n)=>b(e,t,n),step:1,min:1,max:e.length,valueLabelDisplay:"on"}),Object(R.jsxs)(f.a,{container:!0,direction:"row",alignItems:"stretch",justify:"space-between",children:[Object(R.jsx)(f.a,{item:!0,className:"mark",children:Object(R.jsx)("em",{children:i(e[0])})}),u&&Object(R.jsx)(f.a,{item:!0,className:"mark",children:Object(R.jsx)("em",{children:i(e[Math.floor(e.length/2)])})}),Object(R.jsx)(f.a,{item:!0,className:"mark",children:Object(R.jsx)("em",{children:i(e[e.length-1])})})]})]},t),b=(e,n,a)=>{m.current.values[n]=e.target.value||a,console.log(m.current.values[n]);const i=m.current.values.filter(((e,n)=>t.requiredQuestions.includes(n)&&(null===e||void 0===e))).length;o(0===i)},h=(e,t)=>Object(R.jsxs)(f.a,{item:!0,className:"matrix-question-container",children:[Object(R.jsx)(P.a,{source:i(e),escapeHtml:!1,className:"markdown-text"}),d&&p(l,t),!d&&Object(R.jsx)(K.a,{name:`q${t}`,value:m.current.values[t],onChange:e=>b(e,t),children:Object(R.jsx)(f.a,{container:!0,direction:"vertical"===r?"column":"row",alignItems:"flex-start",justify:"space-between",children:l.map(((e,t)=>((e,t)=>Object(R.jsx)(f.a,{item:!0,xs:!0,children:Object(R.jsx)(B.a,{control:Object(R.jsx)(H.a,{}),value:e,label:i(e),labelPlacement:"vertical"===r?"end":"bottom"})},t))(e,t)))})})]},t);return Object(R.jsxs)(f.a,{container:!0,direction:"column",alignItems:"stretch",justifyContent:"flex-start",className:"Text-container",children:[c&&Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i(c),escapeHtml:!1,className:"markdown-text"})}),s.map(((e,t)=>h(e,t))).reduce(((e,t)=>[e,Object(R.jsx)(V.a,{className:"matrix-spacer"},Math.random().toString()),t]))]})}function q(e){let{submission:t,studyId:n,submissionNote:o}=e;const{t:i}=Object(T.a)(),s=`https://server.cut.social/api/v1/${n}/responses`,[l,r]=Object(a.useState)({submissionCode:void 0,debug:!1});function c(e){var t;return!(!e||"prolific ID"!==(null===e||void 0===e||null===(t=e.view)||void 0===t?void 0:t.id))}return Object(a.useEffect)((()=>{if(void 0===l.submissionCode){const e=(()=>{let e=null;const n=t.responses.filter(c);return n.length>0&&(e=n[0].response),e})();m.a.event({category:"info",action:"submission_insert, pid : "+e,label:"info submission insert"}),fetch(s,{method:"post",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>r({...l,submissionCode:e.submissionCode}))).catch((n=>(m.a.event({category:"error",action:"submission_insert_error, pid : "+e+"  error:"+n+"  stringify:"+JSON.stringify(n),label:"info submission insert: "+JSON.stringify(t)}),console.error("Error:",n))))}}),[l]),Object(R.jsxs)(f.a,{container:!0,direction:"column",className:"Text-container",children:[l.submissionCode&&Object(R.jsx)(f.a,{item:!0,xs:!0,className:"submission-container",children:Object(R.jsx)(P.a,{source:i(o,{submissionCode:l.submissionCode}),escapeHtml:!1,className:"markdown-text"})}),l.debug&&Object(R.jsx)(f.a,{item:!0,xs:!0,children:Object(R.jsx)("pre",{children:JSON.stringify(t,null,2)})})]})}var Y=n(105),Z=n(372),Q=n(336),$=n(337),X=n(338),ee=n(339);n(274);function te(e){let{content:t,onStore:n}=e;const{t:o}=Object(T.a)(),{reward:i,maxPumps:s,safePumps:l,trials:r}=t,[c,d]=Object(a.useState)({pumps:0,finished:!1,trial:1,totalScore:0,trialResponses:[],dialogIsOpen:!1,taskStartedAt:Date.now(),showTooltip:!0}),u=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e};Object(a.useEffect)((()=>(c.randomNumbers=u(Array.from({length:s},((e,t)=>t+1))),document.body.style["touch-action"]="none",document.documentElement.style["touch-action"]="none",()=>{document.body.style["touch-action"]=null,document.documentElement.style["touch-action"]=null})),[]),Object(a.useEffect)((()=>{if(c.finished&&!c.dialogIsOpen){const e=Date.now();let a={trials:c.trialResponses};a.taskStartedAt=c.taskStartedAt,a.taskFinishedAt=e,a.taskDuration=e-c.taskStartedAt,n({view:t,response:a},!0)}}),[c]);const m=(e,t)=>{d({...c,dialogIsOpen:!0,trialResponses:[...c.trialResponses,{trial:c.trial,pumps:c.pumps,score:e?c.pumps*i:0,result:e?"cashed":"exploded"}],showTooltip:!0,finished:c.trial>=r,pumps:0,trial:c.trial+1,totalScore:c.totalScore+(e?c.pumps*i:0),randomNumbers:u(Array.from({length:s},((e,t)=>t+1)))})},p=(e,t)=>{let n=Math.sqrt(500*(e+1)/Math.PI);return console.log(n),Math.ceil(2*n)};return Object(R.jsxs)(a.Fragment,{children:[c.dialogIsOpen&&Object(R.jsxs)(Z.a,{open:c.dialogIsOpen,onClose:()=>d({...c,dialogIsOpen:!1}),disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"dialog-title",children:[Object(R.jsx)(Q.a,{id:"dialog-title",children:Object(R.jsx)("b",{children:"cashed"===c.trialResponses[c.trialResponses.length-1].result?o("bart.cashed_title"):o("bart.exploded_title")})}),Object(R.jsx)($.a,{children:Object(R.jsxs)(X.a,{children:[o("bart.trial_score_report",{score:c.trialResponses[c.trialResponses.length-1].score}),o("bart.total_score_report",{score:c.trialResponses.map((e=>e.score)).reduce(((e,t)=>e+t),0)})]})}),Object(R.jsx)(ee.a,{children:Object(R.jsx)(I.a,{onClick:()=>d({...c,dialogIsOpen:!1}),color:"primary",autoFocus:!0,size:"large",children:c.trial<=r?o("bart.next_trial"):o("next")})})]}),Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,justify:"space-between",alignItems:"stretch",className:"bart-container",children:[Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[c.trial<=r&&Object(R.jsx)(f.a,{item:!0,children:Object(R.jsxs)(f.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",children:[o("bart.next_reward"),Object(R.jsx)(Y.a,{variant:"h4",children:c.pumps*i})]})}),c.trial<=r&&Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",children:Object(R.jsx)(Y.a,{color:"textSecondary",variant:"caption",children:o("bart.trial_label",{trial:c.trial,trials:r})})})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsxs)(f.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",children:[o("bart.total_points"),Object(R.jsx)(Y.a,{variant:"h4",children:c.totalScore})]})})]}),Object(R.jsx)(f.a,{item:!0,container:!0,direction:"column",alignContent:"center",alignItems:"center",children:Object(R.jsx)(G.a,{title:o("bart.balloon_tooltip"),arrow:!0,open:!c.dialogIsOpen&&c.showTooltip,children:Object(R.jsx)("div",{className:"bubble-container",style:{cursor:"pointer",width:p(c.pumps),height:p(c.pumps),transition:0===c.pumps?"":"width 1s, height 1s"},onClick:()=>{const e=l>0&&c.pumps<l;let t=Math.floor(Math.random()*c.randomNumbers.length),n=c.randomNumbers.splice(t,e?0:1);console.log("random number: ",n[0],"(must be 1 to explode)"),1===n[0]?m(!1):d({...c,showTooltip:!1,pumps:c.pumps+1})},children:Object(R.jsx)("figure",{className:"bubble"})})})}),Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justify:"space-around",alignItems:"center",children:Object(R.jsx)(I.a,{size:"large",color:"primary",variant:"outlined",onClick:()=>{m(!0)},children:o("bart.cash")})})]})]})}var ne=n(340),ae=n(341),oe=n(342),ie=n(343),se=n(344);const le=function(e){return e[Math.floor(Math.random()*e.length)]},re=e=>{const t=e.slice();for(let n=e.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};n(275);let ce;function de(e){let{content:t,onStore:n,onProgress:o}=e;const{t:i}=Object(T.a)(),{text:s,trials:l,stimuliDuration:r,fixationDuration:c,choices:d,timeoutsBeforeReset:u,feedbackDuration:m}=t,[p,b]=Object(a.useState)({finished:!1,trialResponses:[],taskStartedAt:null,taskFinishedAt:null,taskDuration:null,step:null,correct:null,stimuli:null,trialStartedAt:null,respondedAt:null,trial:null,timeouts:0}),h=e=>{const{key:t,keyCode:n}=e;if(null===p.trial&&(32===n||" "===t))return void j();if("stimuli"!==p.step||!["ArrowLeft","ArrowRight"].includes(t))return;const a=p.stimuli[p.trial-1];let o,i="ArrowLeft"===t&&a.startsWith("right")||"ArrowRight"===t&&a.startsWith("left");o="ArrowLeft"===t&&"left-go"===a||"ArrowRight"===t&&"right-go"===a?d.go:i?"empty":d.nogo,g(o)};Object(a.useEffect)((()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)})),[h]),Object(a.useEffect)((()=>{if(null===p.stimuli){let e=[...Array(l.total).keys()].map(((e,t)=>e<l.leftGo?"left-go":e<l.go?"right-go":e<l.go+(l.left-l.leftGo)?"left-nogo":"right-nogo"));b({...p,stimuli:re(e)})}if("fixation"===p.step&&(clearTimeout(ce),ce=setTimeout((()=>{b({...p,trial:p.trial+1,trialStartedAt:Date.now(),step:"stimuli"})}),c)),"feedback"===p.step&&(clearTimeout(ce),ce=setTimeout((()=>{b({...p,step:"fixation"})}),m)),"stimuli"===p.step&&(clearTimeout(ce),p.timeouts<u?ce=setTimeout((()=>{b({...p,trialResponses:[...p.trialResponses,{trial:p.trial,stimuli:p.stimuli[p.trial-1],choice:null,correct:null,respondedAt:null,trialStartedAt:p.trialStartedAt,rt:null}],timeouts:p.timeouts+1,correct:!1,step:m>0?"feedback":"fixation"})}),r):b({...p,step:"reset",timeouts:0})),o(100*p.trial/l.total),p.trial>l.total&&(console.log("------------ FINISHED -------"),o(100),b({...p,finished:!0,taskFinishedAt:Date.now()})),p.finished){clearTimeout(ce);let e={trials:p.trialResponses};e.taskStartedAt=p.taskStartedAt,e.taskFinishedAt=p.taskFinishedAt,e.taskDuration=p.taskFinishedAt-p.taskStartedAt,n({view:t,response:e},!0)}}),[p]);const j=()=>{b({...p,trialResponses:[],trial:0,timeouts:0,step:"fixation",taskStartedAt:Date.now()})},g=e=>{const t=Date.now();clearTimeout(ce);const n=e===d.go&&!p.stimuli[p.trial-1].endsWith("nogo")||"empty"===e&&p.stimuli[p.trial-1].endsWith("nogo");b({...p,correct:n,respondedAt:t,trialResponses:[...p.trialResponses,{trial:p.trial,stimuli:p.stimuli[p.trial-1],choice:e,correct:n,respondedAt:t,trialStartedAt:p.trialStartedAt,rt:t-p.trialStartedAt}],step:m>0?"feedback":"fixation"})},x=e=>Object(R.jsxs)(a.Fragment,{children:["star"===e&&Object(R.jsx)("div",{onClick:()=>g("star"),className:"gng-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"yellow"})}),"empty"===e&&Object(R.jsx)("div",{onClick:()=>g("empty"),className:"gng-stimulus",children:" "}),"circle"===e&&Object(R.jsx)("div",{onClick:()=>g("circle"),className:"gng-stimulus",children:Object(R.jsx)(ae.a,{fontSize:"large",className:"blue"})}),"blue-star"===e&&Object(R.jsx)("div",{onClick:()=>g("blue-star"),className:"gng-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"blue"})}),"yellow-circle"===e&&Object(R.jsx)("div",{onClick:()=>g("yellow-circle"),className:"gng-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"yellow"})})]});return"reset"===p.step?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("gonogo.too_many_timeouts"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",color:"secondary",onClick:()=>j(),children:i("gonogo.restart")})})]}):null===p.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("gonogo.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>j(),children:i("gonogo.start")})})]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"gonogo-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i(s),escapeHtml:!1,className:"markdown-text"})}),"stimuli"===p.step&&(O=p.stimuli[p.trial-1],Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:["left-go"===O&&x(d.go),"left-nogo"===O&&x(d.nogo),"left-go"!==O&&"left-nogo"!==O&&x("empty"),Object(R.jsx)(V.a,{orientation:"vertical",flexItem:!0}),"right-go"===O&&x(d.go),"right-nogo"===O&&x(d.nogo),"right-go"!==O&&"right-nogo"!==O&&x("empty")]})),"feedback"===p.step&&Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[p.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct gng-icon"}),!p.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect gng-icon"})]}),"fixation"===p.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"fixation gng-icon"})})]});var O}var ue=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e};n(276),n(283);let me;function pe(e){let{content:t,onStore:n}=e;const{rule:o,colors:i,words:s,trials:l,randomizeTrials:r,randomizeChoices:c,stimulusDuration:d,fixationDuration:u,timeoutsBeforeReset:m,feedbackDuration:p}=t,{t:b}=Object(T.a)(),[h,j]=Object(a.useState)({trialResponses:[],finished:!1,trial:null,step:null,correct:null,timeouts:0,stimuli:null}),g=e=>{const{key:t,keyCode:n}=e;if(null===h.trial&&(32===n||" "===t))return void O();if("stimulus"!==h.step||!["ArrowLeft","ArrowRight"].includes(t))return;let a=h.stimuli[h.trial-1].choices,o=h.stimuli[h.trial-1].stimulus,i="ArrowLeft"===t?a[0]:a[1];y(i,o)};Object(a.useEffect)((()=>(window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)})),[g]);const x=e=>{let t=r?ue(e):e;return c&&(t=t.map((e=>{let t=Object.assign({},e);return t.choices=ue(e.choices),t}))),t};Object(a.useEffect)((()=>{if(null===h.stimuli&&j({...h,stimuli:x(l)}),"fixation"===h.step&&(clearTimeout(me),me=setTimeout((()=>{j({...h,step:"stimulus",trial:h.trial+1,trialStartedAt:Date.now()})}),u)),"feedback"===h.step&&(clearTimeout(me),me=setTimeout((()=>{j({...h,step:"fixation"})}),p)),"stimulus"===h.step&&(clearTimeout(me),h.timeouts<m?me=setTimeout((()=>{j({...h,step:p>0?"feedback":"fixation",trialResponses:[...h.trialResponses,{trial:h.trial,stimulus:h.stimuli[h.trial-1].stimulus,choice:null,correct:null,respondedAt:null,trialStartedAt:h.trialStartedAt,rt:null}],timeouts:h.timeouts+1,correct:!1})}),d):j({...h,step:"reset",timeouts:0})),h.trial>l.length&&j({...h,finished:!0,taskFinishedAt:Date.now()}),h.finished){clearTimeout(me);let e={trials:h.trialResponses};e.taskStartedAt=h.taskStartedAt,e.taskFinishedAt=h.taskFinishedAt,e.taskDuration=h.taskFinishedAt-h.taskStartedAt,n({view:t,response:e},!0)}}),[h]);const O=()=>{j({...h,trial:0,timeouts:0,trialResponses:[],step:"fixation",taskStartedAt:Date.now()})},y=(e,t)=>{let n=Date.now();clearTimeout(me);let[a,o]=e.split(""),[i,s]=t.split(""),l=a===s;j({...h,step:p>0?"feedback":"fixation",correct:l,trialResponses:[...h.trialResponses,{trial:h.trial,stimulus:h.stimuli[h.trial-1].stimulus,choice:e,correct:l,respondedAt:n,trialStartedAt:h.trialStartedAt,rt:n-h.trialStartedAt}]})};return"reset"===h.step?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justify:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:b("stroop.too_many_timeouts"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",color:"secondary",onClick:()=>O(),children:b("stroop.restart")})})]}):null===h.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:b("stroop.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>O(),children:b("stroop.start")})})]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justify:"flex-start",className:"stroop-container stroop-board",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:b(o),escapeHtml:!1,className:"markdown-text"})}),h.trial<=l.length&&"stimulus"===h.step&&(e=>{let[t,n]=e.split("");return Object(R.jsx)(f.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"flex-start",children:Object(R.jsx)(Y.a,{className:"stroop-stimulus",variant:"h1",style:{color:i[n]},children:b(s[t])})})})(h.stimuli[h.trial-1].stimulus),h.trial<=l.length&&"stimulus"===h.step&&(v=h.stimuli[h.trial-1].choices,S=h.stimuli[h.trial-1].stimulus,Object(R.jsx)(f.a,{container:!0,direction:"row",justify:"space-between",spacing:2,alignItems:"stretch",className:"stroop-choices",children:v.map(((e,t)=>{let[n,a]=e.split("");return Object(R.jsx)(f.a,{item:!0,xs:!0,children:Object(R.jsx)(I.a,{style:{color:i[a]},onClick:()=>y(e,S),size:"large",fullWidth:!0,variant:"outlined",children:b(s[n])})},t)}))})),"feedback"===h.step&&(h.correct,Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[h.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct gng-icon"}),!h.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect gng-icon"})]})),"fixation"===h.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justify:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"fixation gng-icon"})})]});var v,S}var be=n(350),he=n(85),je=n(86),ge=n(366),xe=n(367),fe=n(349),Oe=n(145),ye=n.n(Oe),ve=n(89),Se=n(346),ke=n(347),we=n(345),Ae=n(378);const Ne="opponent",Ce="pot",Ie="player",Te=Object(we.a)((e=>({root:{flexGrow:0},paper:{padding:e.spacing(2)},medium:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(4),height:e.spacing(4)},grey:{color:e.palette.getContrastText(ve.a[400]),backgroundColor:ve.a[400]},tealDark:{color:e.palette.getContrastText(Se.a[800]),backgroundColor:Se.a[800]},blueG:{color:e.palette.getContrastText(ke.a[800]),backgroundColor:ke.a[800]},height100:{height:"100%"}})));var Re=void 0,De=void 0;const Me=Object(a.memo)((function(e){let{name:t,amount:n,onDrop:a,accept:o,person:i,personsPrefix:s}=e,{lang:l}=Object(b.g)();Re=l,De=s,console.log(De);const{t:r}=Object(T.a)(),d="rtl"===c[Re].direction?C:N,u=Te(d),[{canDrop:m,isOver:p},h]=Object(ge.a)({accept:o,drop:a,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})});let j="#222";m&&p?j="darkgreen":m&&(j=ke.a[800]);const g=[];for(let c=0;c<n;c++)g.push(Object(R.jsx)(Pe,{type:t,name:t+c.toString(),boxName:t},t+c.toString()));return Object(R.jsx)(f.a,{item:!0,xs:12,children:Object(R.jsx)(y.a,{ref:h,className:u.paper,style:{height:"128px",backgroundColor:j},elevation:3,children:Object(R.jsxs)(f.a,{container:!0,alignItems:"center",direction:"row",className:u.height100,children:[Object(R.jsxs)(f.a,{item:!0,xs:4,children:[t===Ne&&Object(R.jsx)(Fe,{person:i}),t!==Ne&&Object(R.jsx)(Y.a,{children:r("dictator."+t)})]}),Object(R.jsx)(f.a,{item:!0,xs:7,children:Object(R.jsx)(f.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:g})}),Object(R.jsx)(f.a,{item:!0,xs:1,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(R.jsx)(Ae.a,{className:`${u.grey} ${u.large}`,children:n})})})]})})})}));function Ee(e,t){return console.log(De),De+t+"."+e}const Fe=Object(a.memo)((function(e){let{person:t}=e;const{t:n}=Object(T.a)(),a="rtl"===c[Re].direction?C:N,o=Te(a);return Object(R.jsxs)(R.Fragment,{children:[(null===t||void 0===t?void 0:t.avatar)&&Object(R.jsx)(Ae.a,{alt:n(Ee(t.field1,t.id)),src:"/images/"+t.avatar,className:o.large}),!(null!==t&&void 0!==t&&t.avatar)&&Object(R.jsx)(Ae.a,{className:o.large}),Object(R.jsx)(Y.a,{variant:"body1",color:"textPrimary",component:"p",children:(null===t||void 0===t?void 0:t.field1)&&n(Ee(t.field1,t.id))}),Object(R.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:(null===t||void 0===t?void 0:t.field2)&&n(Ee(t.field2,t.id))}),Object(R.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:(null===t||void 0===t?void 0:t.field3)&&n(Ee(t.field3,t.id))})]})})),Pe=Object(a.memo)((function(e){let{type:t,name:n,boxName:a}=e;const[{isDragging:o},i,s]=Object(xe.a)((()=>({type:t,item:{name:n,boxName:a},collect:e=>({isDragging:!!e.isDragging()})})),[n]);return Object(R.jsxs)(f.a,{item:!0,children:[Object(R.jsx)(fe.a,{connect:s,src:"/images/token-large.png"}),Object(R.jsx)("span",{ref:i,className:"token-span",style:{cursor:"move",opacity:o?.5:1},children:Object(R.jsx)(ye.a,{fontSize:o?"large":"medium"})})]})}));n(284);function _e(e){let{content:t,onStore:n,onNotification:o}=e;const{t:i}=Object(T.a)(),{tokens:s,trials:l,useOpponentTypes:r,opponentTypes:c,text:d,personsPrefix:u,dialogOptionalText:m,persons:p}=t,[b,h]=Object(a.useState)({finished:!1,trial:null,totalScore:0,dialogIsOpen:!1,trialResponses:[],taskStartedAt:Date.now()}),[j,g]=Object(a.useState)([{name:Ne,amount:0,accepts:[Ce,Ie]},{name:Ce,amount:s,accepts:[Ie,Ne]},{name:Ie,amount:0,accepts:[Ce,Ne]}]),[x,O]=Object(a.useState)(void 0);Object(a.useEffect)((()=>{}),[]),Object(a.useEffect)((()=>{if(b.finished&&!b.dialogIsOpen){const e=Date.now();let a={trials:b.trialResponses};a.taskStartedAt=b.taskStartedAt,a.taskFinishedAt=e,a.taskDuration=e-b.taskStartedAt,n({view:t,response:a},!0)}}),[b,n,t]);const y=()=>{let e=!1;return j.forEach((t=>{t.name===Ce&&0===t.amount&&(e=!0)})),e},v=Object(a.useCallback)(((e,t)=>{const n=t.boxName,a=e;g(j.map((e=>e.name===n?{...e,amount:e.amount-1}:e.name===a?{...e,amount:e.amount+1}:e)))}),[j]),S=()=>{let e=((e,t)=>{if(!0!==r)return e;const n=e.filter((e=>function(e,t){var n=!1;for(let a=0;a<e.tags.length;a++)t.inclue(e.tags[a])&&(n=!0);return n}(e,t)));return n})(p,c);O(re(e)),h({...b,trial:0,trialResponses:[],taskStartedAt:Date.now()})},k=()=>{var e;if(!y())return console.log("it should never come to this, because before calling newTrial, canFinishTrial has been checked!!!!"),void o(i("ultimatum.errors.required"));const t=j.find((e=>e.name===Ie)).amount;let n=!0;(null===(e=x[w])||void 0===e?void 0:e.minAcceptable)>s-t&&(n=!1),h({...b,trialResponses:[...b.trialResponses,{trial:b.trial,playerShare:t,score:n?t:0,opponentShare:s-t,opponent:x[w],result:n?"accepted":"rejected"}],finished:b.trial>=l-1,trial:b.trial+1,totalScore:b.totalScore+(n?t:0),dialogIsOpen:!0}),g([{name:Ne,amount:0,accepts:[Ce,Ie]},{name:Ce,amount:s,accepts:[Ie,Ne]},{name:Ie,amount:0,accepts:[Ce,Ne]}])};if(null===b.trial)return console.log("ultimatum starting..."),void S();var w=b.trial;null!==b.trial&&b.trial>=x.length&&(w=b.trial%x.length);const A=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,N=A()?je.a:he.a;return Object(R.jsxs)(a.Fragment,{children:[b.dialogIsOpen&&Object(R.jsxs)(Z.a,{open:b.dialogIsOpen,onClose:()=>h({...b,dialogIsOpen:!1}),disableEscapeKeyDown:!0,"aria-labelledby":"dialog-title",children:[Object(R.jsx)(Q.a,{disableTypography:!0,id:"dialog-title",children:Object(R.jsx)(Y.a,{variant:"h6",color:"accepted"===b.trialResponses[b.trialResponses.length-1].result?"primary":"error",children:Object(R.jsx)("b",{children:"accepted"===b.trialResponses[b.trialResponses.length-1].result?i("ultimatum.dialog_title.accepted"):i("ultimatum.dialog_title.rejected")})})}),Object(R.jsx)($.a,{children:Object(R.jsxs)(X.a,{children:[i("ultimatum.trial_score_report",{decision:b.trialResponses[b.trialResponses.length-1].result,score:b.trialResponses[b.trialResponses.length-1].score}),i("ultimatum.total_score_report",{score:b.trialResponses.map((e=>e.score)).reduce(((e,t)=>e+t),0)}),Object(R.jsx)("br",{})," ",Object(R.jsx)("br",{}),!b.finished&&m?i(m):i("ultimatum.dialog_optional_text_default")]})}),Object(R.jsx)(ee.a,{children:Object(R.jsx)(I.a,{onClick:()=>h({...b,dialogIsOpen:!1}),color:"primary",autoFocus:!0,size:"large",children:b.trial<=l-1?i("ultimatum.next_trial"):i("next")})})]}),Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"ultimatum-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(Y.a,{variant:"body2",children:i(d)})}),Object(R.jsx)(f.a,{item:!0,container:!0,spacing:2,alignItems:"stretch",justifyContent:"space-between",className:"boxes-container",children:Object(R.jsx)(be.a,{backend:N,options:A()?{enableMouseEvents:!0}:{},children:j.map(((e,t)=>{let{name:n,amount:a,accepts:o}=e;return Object(R.jsx)(Me,{accept:o,name:n,amount:a,onDrop:e=>v(n,e),person:x[w],personsPrefix:u},t)}))})}),Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Y.a,{variant:"body2",children:i("ultimatum.trial_label",{trial:b.trial+1,trials:l})})})}),Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(I.a,{size:"large",color:y()?"primary":"default",variant:y()?"contained":"outlined",onClick:()=>{y()?k():o(i("ultimatum.errors.required"))},children:i("ultimatum.finish.button")})})}),Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Y.a,{variant:"body2",children:i("ultimatum.total_points",{score:b.totalScore})})})})]})]})]})}var Le=n(365),ze=n(131);n(285);function Ge(e){let{content:t,onStore:n,onNotification:o}=e;const{t:i}=Object(T.a)(),{tokens:s,trials:l,useOpponentTypes:r,opponentTypes:c,text:d,personsPrefix:u,persons:m}=t,[p,b]=Object(a.useState)({finished:!1,trial:null,totalScore:0,dialogIsOpen:!1,trialResponses:[],taskStartedAt:Date.now(),collectionState:0}),[h,j]=Object(a.useState)([{name:Ne,amount:0,accepts:[Ce,Ie]},{name:Ce,amount:s,accepts:[Ie,Ne]},{name:Ie,amount:0,accepts:[Ce,Ne]}]),[g,O]=Object(a.useState)(void 0),[y,v]=Object(a.useState)(!1),[S,k]=Object(a.useState)(null);Object(a.useEffect)((()=>{}),[]),Object(a.useEffect)((()=>{if(p.finished&&!p.dialogIsOpen){const e=Date.now();let a={trials:p.trialResponses};a.taskStartedAt=p.taskStartedAt,a.taskFinishedAt=e,a.taskDuration=e-p.taskStartedAt,n({view:t,response:a},!0)}}),[p,n,t]),Object(a.useEffect)((()=>{if(p.dialogIsOpen){v(!1);const e=setTimeout((()=>{v(!0)}),5e3);k(e)}else S&&clearTimeout(S),v(!1);return()=>{S&&clearTimeout(S)}}),[p.dialogIsOpen]);const w=()=>{let e=!1;return h.forEach((t=>{t.name===Ce&&0===t.amount&&(e=!0)})),e},A=Object(a.useCallback)(((e,t)=>{const n=t.boxName,a=e;j(h.map((e=>e.name===n?{...e,amount:e.amount-1}:e.name===a?{...e,amount:e.amount+1}:e)))}),[h]),N=()=>{let e=((e,t)=>{if(!0!==r)return e;const n=e.filter((e=>function(e,t){var n=!1;for(let a=0;a<e.tags.length;a++)t.inclue(e.tags[a])&&(n=!0);return n}(e,t)));return n})(m,c);O(re(e)),b({...p,trial:0,trialResponses:[],taskStartedAt:Date.now()})},C=()=>{if(!w())return console.log("it should never come to this, because before calling newTrial, canFinishTrial has been checked!!!!"),void o(i("dictator.errors.required"));const e=h.find((e=>e.name===Ie)).amount;b({...p,trialResponses:[...p.trialResponses,{trial:p.trial,playerShare:e,opponentShare:s-e,opponent:g[D]}],finished:p.trial>=l-1,trial:p.trial+1,totalScore:p.totalScore+e,dialogIsOpen:!0}),j([{name:Ne,amount:0,accepts:[Ce,Ie]},{name:Ce,amount:s,accepts:[Ie,Ne]},{name:Ie,amount:0,accepts:[Ce,Ne]}])};if(null===p.trial)return console.log("dictator starting..."),void N();var D=p.trial;null!==p.trial&&p.trial>=g.length&&(D=p.trial%g.length);const M=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,E=M()?je.a:he.a;return Object(R.jsxs)(a.Fragment,{children:[p.dialogIsOpen&&Object(R.jsxs)(Z.a,{open:p.dialogIsOpen,onClose:()=>b({...p,dialogIsOpen:!1}),disableEscapeKeyDown:!0,"aria-labelledby":"dialog-title",className:"margined-dialog",id:"collect-dialog",children:[Object(R.jsx)(Q.a,{id:"dialog-title",children:Object(R.jsx)("b",{children:i("dictator.dialog_title")})}),Object(R.jsx)($.a,{children:Object(R.jsxs)(X.a,{children:[i("dictator.trial_score_report",{score:p.trialResponses[p.trialResponses.length-1].playerShare}),i("dictator.total_score_report",{score:p.trialResponses.map((e=>e.playerShare)).reduce(((e,t)=>e+t),0)}),Object(R.jsxs)(x.a,{id:"matchmaking-container",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:[Object(R.jsxs)(Le.a,{id:"matchmaking-loading",className:y?"hide":"",children:[Object(R.jsx)(Le.a,{display:"flex",justifyContent:"center",width:"100%",children:Object(R.jsx)(ze.a,{})}),Object(R.jsx)(Le.a,{mt:2,children:Object(R.jsx)(Y.a,{variant:"body1",children:i("dictator.waiting_for_opponent")})})]}),Object(R.jsxs)(Le.a,{id:"matchmaking-result",className:y?"":"hide",children:[Object(R.jsx)(Y.a,{variant:"body1",style:{paddingBottom:"16px"},children:i("dictator.matchmaking_result")}),Object(R.jsx)(Y.a,{variant:"body1",style:{paddingBottom:"16px"},children:i("dictator.matchmaking_result_text")})]})]})]})}),Object(R.jsx)(ee.a,{children:Object(R.jsx)(I.a,{onClick:()=>b({...p,dialogIsOpen:!1}),disabled:!y,color:"primary",autoFocus:!0,size:"large",children:p.trial<=l-1?i("dictator.next_trial"):i("next")})})]}),Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(Y.a,{variant:"body2",children:i(d)})}),Object(R.jsx)(f.a,{item:!0,container:!0,spacing:2,alignItems:"stretch",justifyContent:"space-between",className:"boxes-container",children:Object(R.jsx)(be.a,{backend:E,options:M()?{enableMouseEvents:!0}:{},children:h.map(((e,t)=>{let{name:n,amount:a,accepts:o}=e;return Object(R.jsx)(Me,{accept:o,name:n,amount:a,onDrop:e=>A(n,e),person:g[D],personsPrefix:u},t)}))})}),Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Y.a,{variant:"body2",children:i("dictator.trial_label",{trial:p.trial+1,trials:l})})})}),Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(I.a,{size:"large",color:"primary",variant:"outlined",onClick:()=>{w()?C():o(i("dictator.errors.required"))},children:i("dictator.finish.button")})})}),Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(f.a,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Y.a,{variant:"body2",children:i("dictator.total_points",{score:p.totalScore})})})})]})]})]})}n(286);let We;function Be(e){let{content:t,onStore:n,onProgress:o}=e;const{t:i}=Object(T.a)(),{text:s,trials:l,stimuliDuration:r,fixationDuration:c,timeoutsBeforeReset:d,feedbackDuration:u}=t,[m,p]=Object(a.useState)({finished:!1,trialResponses:[],taskStartedAt:null,taskFinishedAt:null,taskDuration:null,step:null,type:null,correct:null,stimuli:null,trialStartedAt:null,respondedAt:null,trial:null,timeouts:0});Object(a.useEffect)((()=>{const e=e=>{const{key:t,keyCode:n}=e;if(null===m.trial&&(32===n||" "===t))return void b();if("stimuli"!==m.step||!["ArrowLeft","ArrowRight"].includes(t))return;const a=m.stimuli[m.trial-1];let o,i="ArrowLeft"===t&&a.startsWith("right")||"ArrowRight"===t&&a.startsWith("left"),s="ArrowLeft"===t&&a.startsWith("left-go")||"ArrowRight"===t&&a.startsWith("right-go");o=a.endsWith("top")?s?l.top.choices.go:i?"empty":l.top.choices.nogo:s?l.bottom.choices.go:i?"empty":l.bottom.choices.nogo,h(o)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[m]),Object(a.useEffect)((()=>{if(null===m.stimuli){let e=[...Array(l.total).keys()].map(((e,t)=>e<l.top.total?e<l.top.leftGo?"left-go-top":e<l.top.go?"right-go-top":e<l.top.go+(l.top.left-l.top.leftGo)?"left-nogo-top":"right-nogo-top":e<l.top.total+l.bottom.leftGo?"left-go-bottom":e<l.top.total+l.bottom.go?"right-go-bottom":e<l.top.total+l.bottom.go+(l.bottom.left-l.bottom.leftGo)?"left-nogo-bottom":"right-nogo-bottom"));p({...m,stimuli:re(e)})}}),[m]),Object(a.useEffect)((()=>{if("fixation"===m.step&&(clearTimeout(We),We=setTimeout((()=>{p({...m,trial:m.trial+1,trialStartedAt:Date.now(),step:"stimuli"})}),c)),"feedback"===m.step&&(clearTimeout(We),We=setTimeout((()=>{p({...m,step:"fixation"})}),u)),"stimuli"===m.step&&(clearTimeout(We),m.timeouts<d?We=setTimeout((()=>{p({...m,trialResponses:[...m.trialResponses,{trial:m.trial,stimuli:m.stimuli[m.trial-1],choice:null,correct:null,respondedAt:null,trialStartedAt:m.trialStartedAt,rt:null}],timeouts:m.timeouts+1,correct:!1,step:u>0?"feedback":"fixation"})}),r):p({...m,step:"reset",timeouts:0})),o(100*m.trial/l.total),m.trial>l.total&&(console.log("------------ FINISHED -------"),o(100),p({...m,finished:!0,taskFinishedAt:Date.now()})),m.finished){clearTimeout(We);let e={trials:m.trialResponses};e.taskStartedAt=m.taskStartedAt,e.taskFinishedAt=m.taskFinishedAt,e.taskDuration=m.taskFinishedAt-m.taskStartedAt,n({view:t,response:e},!0)}}),[m]);const b=()=>{p({...m,trialResponses:[],trial:0,timeouts:0,step:"fixation",taskStartedAt:Date.now()})},h=e=>{const t=Date.now();clearTimeout(We);const n=function(e){const t=e.endsWith("top")?l.top.choices:l.bottom.choices;return e.includes("nogo")?"empty":t.go}(m.stimuli[m.trial-1]);console.log("correct answer = %s for choice %s , in stimuli %o",n,e,m.stimuli[m.trial-1]),p({...m,correct:n===e,respondedAt:t,trialResponses:[...m.trialResponses,{trial:m.trial,stimuli:m.stimuli[m.trial-1],choice:e,correct:n===e,respondedAt:t,trialStartedAt:m.trialStartedAt,rt:t-m.trialStartedAt}],step:u>0?"feedback":"fixation"})};const j=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(R.jsxs)(a.Fragment,{children:["empty"===e&&t&&Object(R.jsx)("div",{onClick:()=>h("empty"),className:"ts-stimulus",children:" "}),"empty"===e&&!t&&Object(R.jsx)("div",{className:"ts-stimulus ts-inactive",children:" "}),"star"===e&&Object(R.jsx)("div",{onClick:()=>h("star"),className:"ts-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"yellow"})}),"circle"===e&&Object(R.jsx)("div",{onClick:()=>h("circle"),className:"ts-stimulus",children:Object(R.jsx)(ae.a,{fontSize:"large",className:"blue"})}),"blue-star"===e&&Object(R.jsx)("div",{onClick:()=>h("blue-star"),className:"ts-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"blue"})}),"yellow-circle"===e&&Object(R.jsx)("div",{onClick:()=>h("yellow-circle"),className:"ts-stimulus",children:Object(R.jsx)(ne.a,{fontSize:"large",className:"yellow"})})]})},g=(e,t)=>{const n=e.endsWith("top")?l.top.choices:l.bottom.choices;return Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[0===t&&e.endsWith("bottom")&&j("empty",!1),0===t&&e.endsWith("top")&&e.startsWith("left-go")&&j(n.go),0===t&&e.endsWith("top")&&e.startsWith("left-nogo")&&j(n.nogo),0===t&&e.endsWith("top")&&!e.includes("left-go")&&!e.includes("left-nogo")&&j("empty"),1===t&&e.endsWith("top")&&j("empty",!1),1===t&&e.endsWith("bottom")&&e.startsWith("left-go")&&j(n.go),1===t&&e.endsWith("bottom")&&e.startsWith("left-nogo")&&j(n.nogo),1===t&&e.endsWith("bottom")&&!e.startsWith("left-go")&&!e.startsWith("left-nogo")&&j("empty"),Object(R.jsx)(V.a,{orientation:"vertical",flexItem:!0}),0===t&&e.endsWith("bottom")&&j("empty",!1),0===t&&e.endsWith("top")&&e.startsWith("right-go")&&j(n.go),0===t&&e.endsWith("top")&&e.startsWith("right-nogo")&&j(n.nogo),0===t&&e.endsWith("top")&&!e.includes("right-go")&&!e.includes("right-nogo")&&j("empty"),1===t&&e.endsWith("top")&&j("empty",!1),1===t&&e.endsWith("bottom")&&e.startsWith("right-go")&&j(n.go),1===t&&e.endsWith("bottom")&&e.startsWith("right-nogo")&&j(n.nogo),1===t&&e.endsWith("bottom")&&!e.startsWith("right-go")&&!e.startsWith("right-nogo")&&j("empty")]})};return"reset"===m.step?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("taskswitch.too_many_timeouts"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",color:"secondary",onClick:()=>b(),children:i("taskswitch.restart")})})]}):null===m.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("taskswitch.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>b(),children:i("taskswitch.start")})})]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"ts-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i(s),escapeHtml:!1,className:"markdown-text"})}),"stimuli"===m.step&&(e=>{if(e)return Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"ts-stimulus-container",children:[g(e,0),Object(R.jsxs)(f.a,{item:!0,children:[" ",Object(R.jsx)(V.a,{orientation:"horizontal"})," "]}),g(e,1)]})})(m.stimuli[m.trial-1]),"feedback"===m.step&&Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[m.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct ts-icon"}),!m.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect ts-icon"})]}),"fixation"===m.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"fixation ts-icon"})})]})}n(287);let He;function Ke(e){let{content:t,onStore:n,onProgress:o}=e;const{t:i}=Object(T.a)(),{text:s,trials:l,stimuliDuration:r,fixationDuration:c,timeoutsBeforeReset:d,feedbackDuration:u}=t,[m,p]=Object(a.useState)({finished:!1,trialResponses:[],taskStartedAt:null,taskFinishedAt:null,taskDuration:null,step:null,type:null,correct:null,stimuli:null,trialStartedAt:null,respondedAt:null,trial:null,timeouts:0});Object(a.useEffect)((()=>{console.log("useEffect -> before handleKeyPress, it has no dependency");const e=e=>{const{key:t,keyCode:n}=e;if(null===m.trial&&(32===n||" "===t))return void b();if("stimuli"!==m.step||!["ArrowLeft","ArrowRight"].includes(t))return;const a=m.stimuli[m.trial-1];let o;"ArrowLeft"===t&&(o=a.pos>1?2:0),"ArrowRight"===t&&(o=a.pos>1?3:1),h(o)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[m]),Object(a.useEffect)((()=>{if(console.log(m.stimuli),null===m.stimuli){let e=[...Array(l.total).keys()].map(((e,t)=>{let n={pos:0,figure:0,color:0};return e<l.typeA?(n.pos=e<l.left?0:1,n.figure=e<l.figureA?0:1,n.color=e<l.colorA?0:1):(n.pos=e-l.typeA<l.left?2:3,n.figure=e-l.typeA<l.figureA?0:1,n.color=e-l.typeA<l.colorA?0:1),n}));p({...m,stimuli:re(e)})}}),[m.stimuli]),Object(a.useEffect)((()=>{if("fixation"===m.step&&(clearTimeout(He),He=setTimeout((()=>{p({...m,trial:m.trial+1,trialStartedAt:Date.now(),step:"stimuli"})}),c)),"feedback"===m.step&&(clearTimeout(He),He=setTimeout((()=>{p({...m,step:"fixation"})}),u)),"stimuli"===m.step&&(clearTimeout(He),m.timeouts<d?He=setTimeout((()=>{p({...m,trialResponses:[...m.trialResponses,{trial:m.trial,stimuli:m.stimuli[m.trial-1],choice:null,correct:null,respondedAt:null,trialStartedAt:m.trialStartedAt,rt:null}],timeouts:m.timeouts+1,correct:!1,step:u>0?"feedback":"fixation"})}),r):p({...m,step:"reset",timeouts:0})),o(100*m.trial/l.total),m.trial>l.total&&(console.log("------------ FINISHED -------"),o(100),p({...m,finished:!0,taskFinishedAt:Date.now()})),m.finished){clearTimeout(He);let e={trials:m.trialResponses};e.taskStartedAt=m.taskStartedAt,e.taskFinishedAt=m.taskFinishedAt,e.taskDuration=m.taskFinishedAt-m.taskStartedAt,n({view:t,response:e},!0)}}),[m]);const b=()=>{p({...m,trialResponses:[],trial:0,timeouts:0,step:"fixation",taskStartedAt:Date.now()})},h=e=>{const t=Date.now();clearTimeout(He);const n=function(e){if(e.pos<2)return 0===e.figure?e.pos:1-e.pos;if(e.pos>1)return 0===e.color?e.pos:2===e.pos?3:2}(m.stimuli[m.trial-1]);console.log("correct answer = %d for choice %d , in stimuli %o",n,e,m.stimuli[m.trial-1]),p({...m,correct:n===e,respondedAt:t,trialResponses:[...m.trialResponses,{trial:m.trial,stimuli:m.stimuli[m.trial-1],type:m.stimuli[m.trial-1].pos<2?0:1,choice:e,correct:n===e,respondedAt:t,trialStartedAt:m.trialStartedAt,rt:t-m.trialStartedAt}],step:u>0?"feedback":"fixation"})};const j=(e,t)=>Object(R.jsx)(a.Fragment,{children:Object(R.jsxs)("div",{onClick:()=>h(t),className:"ts-stimulus",children:["0-0"===e&&Object(R.jsx)(ne.a,{fontSize:"large",className:"yellow"}),"1-0"===e&&Object(R.jsx)(ae.a,{fontSize:"large",className:"yellow"}),"0-1"===e&&Object(R.jsx)(ne.a,{fontSize:"large",className:"blue"}),"1-1"===e&&Object(R.jsx)(ae.a,{fontSize:"large",className:"blue"})]})}),g=(e,t,n,a)=>!1===e?Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[j("empty",n),Object(R.jsx)(V.a,{orientation:"vertical",flexItem:!0}),j("empty",a)]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[(null===t||void 0===t?void 0:t.pos)===n&&j(t.figure+"-"+t.color,t.pos),(null===t||void 0===t?void 0:t.pos)===a&&j("empty",n),Object(R.jsx)(V.a,{orientation:"vertical",flexItem:!0}),(null===t||void 0===t?void 0:t.pos)===n&&j("empty",a),(null===t||void 0===t?void 0:t.pos)===a&&j(t.figure+"-"+t.color,t.pos)]});return"reset"===m.step?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("taskswitch.too_many_timeouts"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",color:"secondary",onClick:()=>b(),children:i("taskswitch.restart")})})]}):null===m.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i("taskswitch.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>b(),children:i("taskswitch.start")})})]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"ts-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:i(s),escapeHtml:!1,className:"markdown-text"})}),"stimuli"===m.step&&(x=m.stimuli[m.trial-1],Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"ts-stimulus-container",children:[(null===x||void 0===x?void 0:x.pos)<2&&g(!0,x,0,1),(null===x||void 0===x?void 0:x.pos)>1&&g(!1),Object(R.jsxs)(f.a,{item:!0,children:[" ",Object(R.jsx)(V.a,{orientation:"horizontal"})," "]}),(null===x||void 0===x?void 0:x.pos)<2&&g(!1),(null===x||void 0===x?void 0:x.pos)>1&&g(!0,x,2,3)]})),"feedback"===m.step&&Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[m.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct ts-icon"}),!m.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect ts-icon"})]}),"fixation"===m.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"fixation ts-icon"})})]});var x}var Ve=n(352),Ue=n(353),Je=n(354),qe=n(355),Ye=n(356),Ze=n(357),Qe=n(358),$e=n(359);n(288);let Xe;function et(e){let{content:t,onStore:n,onNotification:o,onProgress:i}=e;const{t:s}=Object(T.a)(),{text:l,trials:r,stimuliDuration:c,fixationDuration:d,feedbackDuration:u,nback:m,stimuli:p}=t,b={star:ne.a,circle:ae.a,triangle:Ve.a,rectangle:Ue.a,hand:Je.a,ball:qe.a,watch:Ye.a,school:Ze.a,cup:Qe.a},[h,j]=Object(a.useState)({finished:!1,trial:null,step:null,trialResponses:[],taskStartedAt:null,taskFinishedAt:null,taskDuration:null,trialStartedAt:null,respondedAt:null,stimuli:null});Object(a.useEffect)((()=>{const e=e=>{const{key:t,keyCode:n}=e;if(null===h.trial&&(32===n||" "===t))return void g();if("stimuli"!==h.step||32!==n&&" "!==t)return;const a=h.stimuli[h.trial-1];x(a)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[h]),Object(a.useEffect)((()=>{if(null===h.stimuli){let e=0,t=0,n=[...Array(r).keys()].map(((n,a)=>{let o=p[e];return t<o.amount?(t++,{type:o.type,name:o.name}):(e++,t=1,e>=p.length&&(console.log("error in figure numbers and total trials, reseting figures. Index: %d , length: %d",e,null===p||void 0===p?void 0:p.length),e=0),o=p[e],{type:o.type,name:o.name})}));j({...h,stimuli:re(n)})}if(h.trial>r&&(console.log("------------ FINISHED -------"),i(100),j({...h,finished:!0,taskFinishedAt:Date.now()})),"fixation"===h.step&&(clearTimeout(Xe),Xe=setTimeout((()=>{j({...h,trial:h.trial+1,trialStartedAt:Date.now(),step:"stimuli"})}),d)),"feedback"===h.step&&(clearTimeout(Xe),Xe=setTimeout((()=>{j({...h,step:"fixation"})}),u)),"stimuli"===h.step&&(clearTimeout(Xe),Xe=setTimeout((()=>{var e,t;const n=Date.now(),a=!(h.trial>m)||(null===(e=h.stimuli[h.trial-1])||void 0===e?void 0:e.name)!==(null===(t=h.stimuli[h.trial-(m+1)])||void 0===t?void 0:t.name);j({...h,correct:a,respondedAt:n,trialResponses:[...h.trialResponses,{trial:h.trial,stimuli:h.stimuli[h.trial-1],choice:"noresponse",correct:a,respondedAt:n,trialStartedAt:h.trialStartedAt,rt:null}],step:u>0?"feedback":"fixation"})}),c)),i(100*h.trial/r),h.finished){clearTimeout(Xe);let e={trials:h.trialResponses};e.taskStartedAt=h.taskStartedAt,e.taskFinishedAt=h.taskFinishedAt,e.taskDuration=h.taskFinishedAt-h.taskStartedAt,n({view:t,response:e},!0)}}),[h]);const g=()=>{j({...h,trialResponses:[],trial:0,step:"fixation",taskStartedAt:Date.now()}),console.log("task started. stimuli: %o",h.stimuli)},x=e=>{var t,n;if(h.trial<=m)return o(s("nback.invalid.selection.notification"));const a=Date.now();clearTimeout(Xe);const i=h.trial>m&&(null===(t=h.stimuli[h.trial-1])||void 0===t?void 0:t.name)===(null===(n=h.stimuli[h.trial-(m+1)])||void 0===n?void 0:n.name);j({...h,correct:i,respondedAt:a,trialResponses:[...h.trialResponses,{trial:h.trial,stimuli:h.stimuli[h.trial-1],choice:e,correct:i,respondedAt:a,trialStartedAt:h.trialStartedAt,rt:a-h.trialStartedAt}],step:u>0?"feedback":"fixation"})};return null===h.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:s("nback.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>g(),children:s("nback.start")})})]}):Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"nback-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:s(l),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"center",alignItems:"center",className:"nback-main-container",children:["stimuli"===h.step&&(e=>{if(console.log("renderFigure: ",e),null===e||void 0===e)return console.log("figure is null, state:",h),Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center"});if("icon"===e.type){if(!b[e.name])return Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(a.Fragment,{children:Object(R.jsx)(Le.a,{onClick:()=>x(e),className:"single-stimulus single-stimulus-icon",children:Object(R.jsx)($e.a,{fontSize:"large",className:"yellow single-stimulus-icon"})})})});const t=b[e.name];return Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Le.a,{onClick:()=>x(e),className:"single-stimulus single-stimulus-icon",children:Object(R.jsx)(t,{fontSize:"large",className:"yellow single-stimulus-icon"})})})}return"letter"===e.type?Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Le.a,{onClick:()=>x(e),className:"single-stimulus single-stimulus-letter",textAlign:"center",children:Object(R.jsxs)(Y.a,{type:"span",className:"yellow single-stimuli-letter",children:[" ",e.name," "]})})}):void 0})(h.stimuli[h.trial-1]),"feedback"===h.step&&h.trial>m&&Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[h.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct single-stimulus-icon"}),!h.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect single-stimulus-icon"})]}),"fixation"===h.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"stimulus-fixation single-stimulus-icon"})})]})]})}n(289);let tt;function nt(e){let{content:t,onStore:n,onProgress:o,onNotification:i}=e;const{t:s}=Object(T.a)(),{text:l,trials:r,stimuliDuration:c,fixationDuration:d,feedbackDuration:u,choices:m}=t,p={star:ne.a,circle:ae.a,triangle:Ve.a,rectangle:Ue.a,hand:Je.a,ball:qe.a,watch:Ye.a,school:Ze.a,cup:Qe.a},[b,h]=Object(a.useState)({finished:!1,trial:null,step:null,trialResponses:[],taskStartedAt:null,taskFinishedAt:null,taskDuration:null,trialStartedAt:null,respondedAt:null,stimuli:null,correct:null});Object(a.useEffect)((()=>{const e=e=>{const{key:t,keyCode:n}=e;if(null===b.trial&&(32===n||" "===t))return void j();if("stimuli"!==b.step||32!==n&&" "!==t)return;const a=b.stimuli[b.trial-1];g(a)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[b]),Object(a.useEffect)((()=>{if(null===b.stimuli){console.log(r);let e=[...Array(r.total).keys()].map(((e,t)=>e<r.go?{trialType:"go",type:m.go.type,name:le(m.go.names)}:{trialType:"nogo",type:m.nogo.type,name:le(m.nogo.names)}));h({...b,stimuli:re(e)})}if("fixation"===b.step&&(clearTimeout(tt),tt=setTimeout((()=>{h({...b,trial:b.trial+1,trialStartedAt:Date.now(),step:"stimuli"})}),d)),"feedback"===b.step&&(clearTimeout(tt),tt=setTimeout((()=>{h({...b,step:"fixation"})}),u)),"stimuli"===b.step&&(clearTimeout(tt),tt=setTimeout((()=>{var e,t;const n=Date.now();console.log("stimuli step timeout. stimuli: %o",b.stimuli[b.trial-1]);const a=null===(e=b.stimuli[b.trial-1])||void 0===e||null===(t=e.trialType)||void 0===t?void 0:t.endsWith("nogo");h({...b,correct:a,respondedAt:n,trialResponses:[...b.trialResponses,{trial:b.trial,stimuli:b.stimuli[b.trial-1],choice:"noresponse",correct:a,respondedAt:n,trialStartedAt:b.trialStartedAt,rt:null}],step:u>0?"feedback":"fixation"})}),c)),o(100*b.trial/r.total),b.trial>r.total&&(console.log("------------ FINISHED -------"),o(100),h({...b,finished:!0,taskFinishedAt:Date.now()})),b.finished){clearTimeout(tt);let e={trials:b.trialResponses};e.taskStartedAt=b.taskStartedAt,e.taskFinishedAt=b.taskFinishedAt,e.taskDuration=b.taskFinishedAt-b.taskStartedAt,n({view:t,response:e},!0)}}),[b]);const j=()=>{h({...b,trialResponses:[],trial:0,step:"fixation",taskStartedAt:Date.now()}),console.log("task started. stimuli: %o",b.stimuli)},g=e=>{var t,n;const a=Date.now();clearTimeout(tt);const o=!(null!==(t=b.stimuli[b.trial-1])&&void 0!==t&&null!==(n=t.trialType)&&void 0!==n&&n.endsWith("nogo"));h({...b,correct:o,respondedAt:a,trialResponses:[...b.trialResponses,{trial:b.trial,stimuli:b.stimuli[b.trial-1],choice:e,correct:o,respondedAt:a,trialStartedAt:b.trialStartedAt,rt:a-b.trialStartedAt}],step:u>0?"feedback":"fixation"})};return null===b.trial?Object(R.jsxs)(f.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"flex-start",className:"Text-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:s("gonogoalt.are_you_ready"),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(I.a,{variant:"outlined",onClick:()=>j(),children:s("gonogoalt.start")})})]}):Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:2,alignItems:"stretch",justifyContent:"flex-start",className:"gonogoalt-container",children:[Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(P.a,{source:s(l),escapeHtml:!1,className:"markdown-text"})}),Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"center",alignItems:"center",className:"nback-main-container",children:["stimuli"===b.step&&(e=>{if(console.log("renderStimulus: ",e),null===e||void 0===e)return console.log("figure is null, state:",b),Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center"});if("icon"===e.type){if(!p[e.name])return Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(a.Fragment,{children:Object(R.jsx)(Le.a,{onClick:()=>g(e),className:"single-stimulus single-stimulus-icon",children:Object(R.jsx)($e.a,{fontSize:"large",className:"yellow single-stimulus-icon"})})})});const t=p[e.name];return Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Le.a,{onClick:()=>g(e),className:"single-stimulus single-stimulus-icon",children:Object(R.jsx)(t,{fontSize:"large",className:"yellow single-stimulus-icon"})})})}return"letter"===e.type?Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(Le.a,{onClick:()=>g(e),className:"single-stimulus single-stimulus-letter",textAlign:"center",children:Object(R.jsxs)(Y.a,{type:"span",className:"yellow single-stimuli-letter",children:[" ",e.name," "]})})}):void 0})(b.stimuli[b.trial-1]),"feedback"===b.step&&Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:[b.correct&&Object(R.jsx)(oe.a,{fontSize:"large",className:"correct single-stimulus-icon"}),!b.correct&&Object(R.jsx)(ie.a,{fontSize:"large",className:"incorrect single-stimulus-icon"})]}),"fixation"===b.step&&Object(R.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",children:Object(R.jsx)(se.a,{fontSize:"large",className:"single-stimulus-fixation single-stimulus-icon"})})]})]})}function at(e){m.a.initialize("G-YFD0H08757");const{t:t,i18n:n}=Object(T.a)();let{lang:o,studyId:i}=Object(b.g)(),s=new URLSearchParams(Object(b.f)().search);const l="rtl"===c[o].direction?C:N,r=Object(a.useRef)(!1),[d,u]=Object(a.useState)({subject:void 0,session:void 0,progress:0,finished:!1,loading:!1,view:{},currentViewIndex:0,responses:[],experiment:{}}),[p,S]=Object(a.useState)(void 0),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("study.storeData",e),t&&A(),u((t=>({...t,responses:[...t.responses,e],loading:!1})))},w=e=>{const t=e/100;u((e=>({...e,progress:100*(e.currentViewIndex+t)/e.experiment.views.length})))},A=()=>{var e;!(d.view.required||(null===(e=d.view.requiredQuestions)||void 0===e?void 0:e.length)>0)||r.current?(r.current=!1,u((e=>{const t=e.currentViewIndex+1;return t<e.experiment.views.length?{...e,loading:!0,progress:100*t/e.experiment.views.length,view:e.experiment.views[t],currentViewIndex:t}:{...e,progress:100,finished:!0,loading:!1}}))):S(t("errors.required"))};return Object(a.useEffect)((()=>{n.changeLanguage(o),fetch(`/experiments/${i}.json`).then((e=>e.json())).then((e=>(e=>{console.log("starting experiment",e),console.log("prolific pid : ",s.get("PROLIFIC_PID")),u((t=>({...t,startedAt:Date.now(),experiment:e,currentViewIndex:0,view:e.views[0]}))),m.a.send({hitType:"pageview",page:window.location.pathname,title:"window?.title"})})(e)))}),[i]),Object(R.jsx)(h.a,{theme:l,children:Object(R.jsxs)("div",{dir:c[o].direction,children:[Object(R.jsx)(j.a,{}),Object(R.jsx)(g.a,{variant:"determinate",value:d.progress}),Object(R.jsx)(x.a,{maxWidth:"sm",className:"study-container",children:Object(R.jsxs)(f.a,{container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",className:"study-grid-container",children:[Object(R.jsx)(O.a,{open:void 0!==p,autoHideDuration:5e3,onClose:()=>S(void 0),children:Object(R.jsx)(v.a,{onClose:()=>S(void 0),severity:"error",children:t(p)})}),Object(R.jsx)(f.a,{item:!0,children:Object(R.jsxs)(y.a,{className:"view-container",children:[!d.finished&&d.loading&&Object(R.jsx)("div",{children:t("loading")}),!d.loading&&(e=>{if(d.finished)return Object(R.jsx)(q,{submission:{PROLIFIC_PID:s.get("PROLIFIC_PID"),STUDY_ID:s.get("STUDY_ID"),SESSION_ID:s.get("SESSION_ID"),startedAt:d.startedAt,responses:d.responses},studyId:i,submissionNote:d.experiment.submissionNote});switch(null===e||void 0===e?void 0:e.type){case"text":return Object(R.jsx)(L,{onStore:k,content:e,onValidate:e=>r.current=e},e.id);case"prolific":return Object(R.jsx)(z,{onStore:k,content:e,onValidate:e=>r.current=e},e.id);case"bart":return Object(R.jsx)(te,{onStore:k,content:e},e.id);case"gonogo":return Object(R.jsx)(de,{onStore:k,onProgress:w,content:e},e.id);case"stroop":return Object(R.jsx)(pe,{onStore:k,content:e},e.id);case"matrix":return Object(R.jsx)(J,{onStore:k,content:e,onValidate:e=>r.current=e},e.id);case"ultimatum":return Object(R.jsx)(_e,{onStore:k,content:e,onNotification:S},e.id);case"dictator":return Object(R.jsx)(Ge,{onStore:k,content:e,onNotification:S},e.id);case"taskswitch":return Object(R.jsx)(Be,{onStore:k,onProgress:w,content:e,onNotification:S},e.id);case"simplified_taskswitch":return Object(R.jsx)(Ke,{onStore:k,onProgress:w,content:e,onNotification:S},e.id);case"nback":return Object(R.jsx)(et,{onStore:k,onProgress:w,content:e,onNotification:S},e.id);case"gonogoalt":return Object(R.jsx)(nt,{onStore:k,onProgress:w,content:e,onNotification:S},e.id);default:return Object(R.jsx)("div",{children:"Not Implemented!"})}})(d.view)]})}),!["gonogo","bart","stroop","ultimatum","dictator","taskswitch","simplified_taskswitch","nback","gonogoalt"].includes(d.view.type)&&!d.loading&&Object(R.jsx)(f.a,{item:!0,children:Object(R.jsx)(D,{onNext:A,finished:d.finished,redirectTo:d.experiment.redirectTo})})]})})]})})}function ot(){return Object(R.jsx)("div",{className:"about",children:"Hello!"})}n(135);function it(e){const{t:t}=Object(T.a)();let{studyId:n}=Object(b.g)();return Object(R.jsxs)(h.a,{theme:N,children:[Object(R.jsx)(j.a,{}),Object(R.jsx)(x.a,{maxWidth:"sm",className:"study-container",children:Object(R.jsx)(f.a,{item:!0,container:!0,spacing:2,direction:"column",justifyContent:"flex-start",alignItems:"stretch",children:Object(R.jsxs)(y.a,{className:"languages-container",children:[Object(R.jsx)(P.a,{source:t("language_selector.text"),escapeHtml:!1,className:"markdown-text"}),Object(R.jsx)(f.a,{container:!0,direction:"row",spacing:3,justifyContent:"space-around",children:Object.entries(c).map((e=>{let[t,a]=e;return Object(R.jsx)(f.a,{item:!0,xs:4,children:Object(R.jsx)(I.a,{component:p.b,to:`/${n}/${t}`,fullWidth:!0,variant:"outlined",children:a.title})},t)}))})]})})})]})}function st(){return Object(a.useEffect)((()=>{m.a.send({hitType:"pageview",page:window.location.pathname})}),[window.location.pathname]),Object(R.jsx)(p.a,{basename:"/",children:Object(R.jsxs)(b.c,{children:[Object(R.jsx)(b.a,{exact:!0,path:"/",children:Object(R.jsx)(ot,{})}),Object(R.jsx)(b.a,{path:"/:studyId/:lang",children:Object(R.jsx)(at,{})}),Object(R.jsx)(b.a,{path:"/:studyId",children:Object(R.jsx)(it,{})}),Object(R.jsx)(b.a,{path:"/about",children:Object(R.jsx)(ot,{})})]})})}var lt=n(363);m.a.initialize("G-YFD0H08757"),i.a.render(Object(R.jsx)(a.Suspense,{fallback:"loading",children:Object(R.jsx)(lt.a,{i18n:d,children:Object(R.jsx)(st,{})})}),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.7da565fb.chunk.js.map